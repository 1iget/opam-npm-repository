walk the ast with references to parent nodes
